<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Woorden Puzzel: Gedrag in de Gang</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: De applicatie heeft een intuÃ¯tieve opzet, vergelijkbaar met een traditionele werkblad. Het bestaat uit twee hoofddelen: een container met de zinnen en hun lege plekken, en daaronder een reeks te slepen woorden. Dit ontwerp is ideaal voor mobiele apparaten. De knoppen voor het controleren en indienen bevinden zich onderaan, waardoor de interactie duidelijk is. Dit zorgt voor een duidelijke en eenvoudige gebruikerservaring die de complexiteit minimaliseert. -->
    <!-- Visualization & Content Choices: De zinnen en woorden worden weergegeven met eenvoudige HTML-elementen die zijn gestyled met Tailwind CSS. De sleep-en-neerzetfunctionaliteit wordt afgehandeld met vanilla JavaScript, en er wordt gebruikgemaakt van de standaard 'dragstart', 'dragover' en 'drop' event listeners. Dit zorgt voor een lichte en snel reagerende interface die geen extra bibliotheken vereist. De visuele feedback van het slepen van woorden en het groen kleuren van de juiste antwoorden helpt de gebruiker te begeleiden. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            background-color: #FDFBF8;
            font-family: 'Inter', sans-serif;
        }
        .drag-word {
            background-color: #E58A45;
            color: white;
            padding: 8px 12px;
            border-radius: 9999px;
            cursor: grab;
            user-select: none;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .drag-word:active {
            cursor: grabbing;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transform: scale(1.05);
        }
        .drop-zone {
            display: inline-block;
            width: 120px;
            min-height: 32px;
            background-color: #F3EFEA;
            border: 2px dashed #D4CCC4;
            border-radius: 8px;
            margin: 0 4px;
            vertical-align: middle;
        }
        .correct-answer {
            background-color: #D1FAE5;
            border-color: #065F46;
        }
        .correct-answer .drag-word {
            background-color: #065F46;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="text-[#3D352E] p-4 sm:p-6 lg:p-8">

    <div class="max-w-6xl mx-auto">
        <header class="text-center mb-6">
            <h1 class="text-3xl sm:text-4xl font-bold text-[#2A2421]">Woorden Puzzel: Gedrag in de Gang</h1>
            <p class="text-md text-[#786A5F] mt-1">Sleep het juiste woord naar de lege plek in de zin.</p>
        </header>

        <div id="intro-section" class="flex flex-col items-center justify-center p-8 bg-[#F3EFEA] rounded-lg shadow-md mb-8">
            <p class="text-lg font-semibold mb-4">Voer je naam in om de puzzel te starten.</p>
            <input type="text" id="name-input" placeholder="Je naam" class="px-4 py-2 rounded-lg border-2 border-transparent focus:border-[#E58A45] focus:outline-none transition-all w-full max-w-xs text-center">
            <button id="start-btn" class="mt-4 px-6 py-2 bg-[#E58A45] text-white font-semibold rounded-lg shadow-sm hover:bg-[#D9773B] transition-colors">Start de Puzzel</button>
        </div>

        <main id="puzzle-section" class="flex flex-col lg:flex-row gap-8 hidden">
            <div id="sentences-container" class="lg:w-2/3 p-6 bg-[#F3EFEA] rounded-lg shadow-md">
                <p class="mb-4 text-xl font-bold">Zinnen</p>
                <div id="sentence-list" class="space-y-6"></div>
            </div>
            
            <div class="lg:w-1/3 p-6 bg-[#F3EFEA] rounded-lg shadow-md">
                <p class="mb-4 text-xl font-bold">Woorden</p>
                <div id="word-bank" class="flex flex-wrap gap-2 justify-center"></div>
            </div>
        </main>
        
        <footer id="footer-buttons" class="mt-8 flex flex-wrap justify-center gap-4 hidden">
            <button id="submit-btn" class="px-6 py-2 bg-[#786A5F] text-white font-semibold rounded-lg shadow-sm hover:bg-[#5A4D43] transition-colors">Indienen</button>
        </footer>
    </div>

    <script>
        const sentences = [
            { id: 1, text: "In de gang loop je altijd achter elkaar in een", answer: "RIJ" },
            { id: 2, text: "In de gang praten we niet, we zijn helemaal", answer: "STIL" },
            { id: 3, text: "Als je iemand om hulp vraagt, ben je", answer: "VRIENDELIJK" },
            { id: 4, text: "In de gang ben je altijd", answer: "RUSTIG" },
            { id: 5, text: "Als je iemand kent, zeg je altijd", answer: "GOEIEDAG" },
            { id: 6, text: "We luisteren goed naar de", answer: "LEERKRACHTEN" },
            { id: 7, text: "In de gang laat je elkaar met", answer: "RUST" },
            { id: 8, text: "In de gang mag je niet", answer: "LOPEN" }
        ];

        const words = sentences.map(s => s.answer);
        
        let userName = '';
        let correctAnswersCount = 0;

        const introSection = document.getElementById('intro-section');
        const nameInput = document.getElementById('name-input');
        const startBtn = document.getElementById('start-btn');
        const puzzleSection = document.getElementById('puzzle-section');
        const footerButtons = document.getElementById('footer-buttons');
        const sentenceList = document.getElementById('sentence-list');
        const wordBank = document.getElementById('word-bank');
        const submitBtn = document.getElementById('submit-btn');

        startBtn.addEventListener('click', () => {
            userName = nameInput.value.trim();
            if (userName) {
                introSection.classList.add('hidden');
                puzzleSection.classList.remove('hidden');
                footerButtons.classList.remove('hidden');
                initializePuzzle();
            } else {
                alert('Voer je naam in om te beginnen!');
            }
        });

        function initializePuzzle() {
            sentenceList.innerHTML = '';
            wordBank.innerHTML = '';
            correctAnswersCount = 0;

            sentences.forEach(s => {
                const sentenceDiv = document.createElement('div');
                sentenceDiv.classList.add('text-lg', 'text-[#5A4D43]');
                sentenceDiv.innerHTML = `${s.text} <span class="drop-zone" data-answer="${s.answer}" data-id="${s.id}"></span>`;
                sentenceList.appendChild(sentenceDiv);
            });

            const shuffledWords = [...words].sort(() => Math.random() - 0.5);
            shuffledWords.forEach(word => {
                const wordDiv = document.createElement('div');
                wordDiv.textContent = word;
                wordDiv.classList.add('drag-word');
                wordDiv.setAttribute('draggable', true);
                wordDiv.dataset.word = word;
                wordBank.appendChild(wordDiv);
            });

            addEventListeners();
        }

        function addEventListeners() {
            document.querySelectorAll('.drag-word').forEach(word => {
                word.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', e.target.dataset.word);
                });
            });

            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });

                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const droppedWord = e.dataTransfer.getData('text/plain');
                    const correctWord = zone.dataset.answer;
                    
                    if (droppedWord === correctWord) {
                        zone.textContent = '';
                        const draggedElement = document.querySelector(`[data-word="${droppedWord}"]`);
                        if (draggedElement) {
                            zone.appendChild(draggedElement);
                            draggedElement.draggable = false;
                            draggedElement.classList.remove('bg-[#E58A45]', 'hover:bg-[#D9773B]');
                            draggedElement.classList.add('bg-[#065F46]');
                        }
                        zone.classList.remove('bg-[#F3EFEA]', 'border-[#D4CCC4]');
                        zone.classList.add('correct-answer', 'border-transparent');
                        correctAnswersCount++;
                        checkCompletion();
                    } else {
                        const feedbackDiv = document.createElement('div');
                        feedbackDiv.textContent = 'Probeer het opnieuw!';
                        feedbackDiv.classList.add('text-red-500', 'text-sm', 'mt-1', 'animate-pulse');
                        zone.parentNode.appendChild(feedbackDiv);
                        setTimeout(() => feedbackDiv.remove(), 2000);
                    }
                });
            });

            submitBtn.addEventListener('click', () => {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                html2canvas(document.getElementById('sentences-container')).then(canvas => {
                    const imgData = canvas.toDataURL('image/png');
                    
                    doc.setFontSize(16);
                    doc.text(`Ingevulde Zinnen door: ${userName}`, 10, 10);
                    doc.addImage(imgData, 'PNG', 10, 20, 180, 0);

                    doc.setFontSize(12);
                    doc.text(`Aantal correcte antwoorden: ${correctAnswersCount}/${sentences.length}`, 10, 180);
                    
                    doc.save('ingediend_Puzzel.pdf');
                });
            });
        }
        
        function checkCompletion() {
            if (correctAnswersCount === sentences.length) {
                alert('Puzzel voltooid! Je kunt nu je werk indienen.');
            }
        }
    </script>
</body>
</html>
